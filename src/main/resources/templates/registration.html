<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Volodymyr Bondarenko">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Registration</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</head>
<body class="text-center d-flex justify-content-center vh-100">
<main class="align-self-center">
    <form onsubmit="return checkPasswords()" th:action="@{/registration}" method="post" th:object="${user}">
        <div th:if="${param.success}">
            <div class="alert alert-info">You've successfully registered</div>
        </div>
        <h1 class="h3 fw-normal">Please register</h1>
        <div class="form-floating mb-2 mt-3">
            <input type="text" class="form-control" id="username" placeholder="login" required th:field="*{username}">
            <label for="username">Login</label>
        </div>
        <div class="form-floating mb-2">
            <input type="password" class="form-control" id="floatingPassword" placeholder="Password" required>
            <label for="floatingPassword">Password</label>
        </div>
        <div class="form-floating mb-2">
            <input type="password" class="form-control" id="repeatPassword" placeholder="Repeat password" required th:field="*{password}">
            <label for="repeatPassword">Repeat password</label>
        </div>
    <!--    <div class="form-floating mb-2">
            <input type="email" class="form-control" id="email" placeholder="name@example.com" required>
            <label for="email">Email address</label>
      </div>
      -->
        <div class="form-floating mb-2">
            <input type="text" class="form-control" id="firstName" pattern="[A-Za-z]+" placeholder="" required th:field="*{firstName}">
            <label for="firstName">First name</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="secondName" pattern="[A-Za-z]+" placeholder="" required th:field="*{secondName}">
            <label for="secondName">Second name</label>
        </div>
        <button class="w-100 btn btn-lg  btn-light btn-outline-dark mb-3 mt-3" type="submit">Register</button>
        <div class="mb-1">
            or  <a th:href="@{/login}" class="link-dark">sign in</a>
        </div>
    </form>
</main>
</body>

<script>
    function checkPasswords() {
        var password = document.getElementById("floatingPassword").value;
        var confirmPassword = document.getElementById("repeatPassword").value;
        if (password.length < 6) {
            alert("Passwords must have 6 or more symbols");
            return false;
        }
        if (password !== confirmPassword) {
            alert("Passwords do not match");
            return false;
        }
        return true;
    }
</script>
</html>